!function () { var t = { images: [] }, e = { cleanData: function (t) { var i = []; t.split("\n").map(function (t, e) { const n = t.replace(/\s+/g, ""), o = new RegExp(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\) \*\+,;=.]+$/); n.match(o) && i.push({ img: n }) }), e.initData(i) }, initData: function (e) { e.map(function (e, i) { e.id = i, e.visible = !0, t.images.push(e) }) }, retreiveData: function () { return t.images }, updateVisibility(e) { targetData = t.images[e], !0 === targetData.visible ? targetData.visible = !1 : targetData.visible = !0, o.render(e) }, clearData: function () { t.images = [] } }, i = { init: function () { this.pageContainer = document.createElement("div"), this.inputContainer = document.createElement("div"), this.urlInput = document.createElement("textarea"), this.label = document.createElement("label"); var t = document.createElement("h1"), s = document.createElement("p"), l = document.createElement("button"), d = document.createElement("div"), p = document.createElement("input"), c = document.createElement("label"), h = document.createElement("label"); this.pageContainer.classList.add("t-page-wrapper"), this.inputContainer.classList.add("t-input-container"), this.urlInput.setAttribute("id", "s7-urls"), this.urlInput.setAttribute("placeholder", "Enter s7 image info from Zeplin here!"), d.classList.add("t-bgColor-wrapper"), p.setAttribute("type", "checkbox"), p.setAttribute("id", "bgColor"), c.setAttribute("for", "bgColor"), c.classList.add("t-bgColor-light"), h.setAttribute("for", "bgColor"), h.classList.add("t-bgColor-dark"), c.textContent = "light", h.textContent = "dark", t.classList.add("t-app-title"), t.textContent = "Image Tiler", s.classList.add("t-purpose-desc"), s.textContent = " ðŸ•‘ Quickly review CDN urls to ensure provided artwork ðŸŽ¨ matches comps.", this.label.classList.add("t-highlight"), this.label.setAttribute("for", "s7-urls"), this.label.textContent = "Paste image URLs below", l.classList.add("btn-submit"), l.textContent = "review imagery", l.addEventListener("click", function () { e.cleanData(i.urlInput.value), e.retreiveData().length < 1 ? i.entryError() : (n.init(), n.render(), o.init(), a.initModal()) }), p.addEventListener("click", function () { r.tilerWindow.document.querySelector("body").classList.toggle("light") }), r.tilerWindow.document.querySelector("body").appendChild(this.pageContainer), this.pageContainer.appendChild(this.inputContainer), this.inputContainer.appendChild(t), this.inputContainer.appendChild(d), d.appendChild(h), d.appendChild(p), d.appendChild(c), this.inputContainer.appendChild(s), this.inputContainer.appendChild(this.label), this.inputContainer.appendChild(this.urlInput), this.inputContainer.appendChild(l) }, entryError: function () { this.label.textContent = " Input entered rendered No valid image URLS!", this.label.classList.add("t-error") }, remove: function () { i.inputContainer.remove() }, reset: function () { i.pageContainer.remove(), n.listContainer.remove(), o.tileContainer.remove(), e.clearData(), i.init() } }, n = { init: function () { this.listContainer = document.createElement("div"); var t = document.createElement("p"), n = document.createElement("p"); this.urlList = document.createElement("ul"), this.listContainer.classList.add("t-list-container"), t.classList.add("t-list-inst"), t.innerHTML = '<strong>Instructions</strong> <br> <span class="one t-highlight">All valid URL strings have been parsed and are listed below.</span> <span class="two t-highlight">- Check the checkbox to hide an image.</span><span class="four t-highlight">-Tile selection will open a modal with larger image for better view</span> ', n.innerHTML = "Returned <span class='t-return'>" + e.retreiveData().length + "</span> Images", this.urlList.classList.add("t-list"), i.pageContainer.appendChild(this.listContainer), this.listContainer.appendChild(t), this.listContainer.appendChild(n), this.listContainer.appendChild(this.urlList) }, render: function () { const t = e.retreiveData(); i.remove(), t.map(function (t) { var i, o = document.createElement("li"), a = document.createElement("input"), r = document.createElement("input"); o.textContent = t.id + 1 + ".", o.classList.add("t-list-item", "t-highlight"), o.setAttribute("data-id", t.id), a.setAttribute("type", "checkbox"), a.addEventListener("click", (i = t, function () { e.updateVisibility(i.id) })), r.setAttribute("type", "text"), r.value = t.img.toString(), n.urlList.appendChild(o), o.appendChild(a), o.appendChild(r) }); var o = document.createElement("button"); o.classList.add("t-reset"), o.textContent = "reset", o.addEventListener("click", i.reset), n.urlList.appendChild(o) } }, o = { init: function () { this.tileContainer = document.createElement("div"); var t = document.createElement("div"); this.tileContainer.classList.add("t-tile-container"), t.classList.add("t-grid"), i.pageContainer.appendChild(this.tileContainer), this.tileContainer.appendChild(t), e.retreiveData().map(function (e) { var i = document.createElement("div"), n = document.createElement("img"); i.classList.add("t-tile"), i.setAttribute("data-id", e.id), n.setAttribute("src", e.img), n.addEventListener("load", function () { const t = this.clientHeight, e = Math.ceil(t / 10 + 1); this.parentNode.style.gridRowEnd = "span " + e }), n.addEventListener("click", a.renderModal), t.appendChild(i), i.appendChild(n) }) }, render: function (t) { const e = r.tilerWindow.document.querySelector('.t-tile[data-id="' + t + '"]'); e.classList.toggle("t-hide"), e.classList.contains("t-hide") ? setTimeout(function () { e.classList.add("t-remove") }, 200) : e.classList.remove("t-remove") } }, a = { initModal: function () { this.body = r.tilerWindow.document.querySelector("body"), this.modalShade = document.createElement("div"), this.modalImage = document.createElement("img"), this.modalShade.classList.add("t-modal-shade"), this.modalShade.addEventListener("click", a.closeModal), this.modalImage.classList.add("t-modal-image"), this.body.appendChild(this.modalShade), this.modalShade.appendChild(this.modalImage) }, renderModal: function () { const t = this.getAttribute("src"); a.body.classList.add("modalOpen"), a.modalImage.setAttribute("src", t), console.log(a.modalImage.clientHeight) }, closeModal: function () { a.body.classList.remove("modalOpen") } }, r = { init: function () { this.tilerWindow = window.open(""), s.init() } }, s = { init: function () { this.mysheet = document.createElement("style"), this.mysheet.classList.add("tilercss"), this.mysheet.innerHTML = '/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}body{background:#181818}body.light{background:#fff}.t-page-wrapper{position:relative;width:100%;height:100vh;box-sizing:border-box;padding:20px;font-family:Montserrat,sans-serif}.t-page-wrapper :focus{outline:#fff dashed 1px;outline-offset:3px}body.light .t-page-wrapper :focus{outline:#222 dashed 1px}.t-page-wrapper button{background-color:#e80a89;color:#fff;width:120px;border:none;margin-top:16px;transition:all .2s;font-size:14px;padding:10px 5px}.t-page-wrapper button:hover{background-color:#19a7b5;transform:scale(1.05)}.t-highlight{transition:all 1s ease;background:linear-gradient(to right,#e80a89 50%,#181818 50%);background-size:200% 100%;background-position:right bottom}body.light .t-highlight{transition:all 1s ease;background:linear-gradient(to right,#e80a89 50%,#fff 50%);background-size:200% 100%;background-position:right bottom}.t-input-container{display:flex;flex-direction:column;align-items:center}.t-app-title{margin-top:16px;margin-bottom:0;font-size:32px;color:#fff}body.light .t-app-title{color:#222}#bgColor{height:30px;width:70px;vertical-align:middle;background-color:#464646;border-radius:15px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}body.light #bgColor{background-color:#ccc}#bgColor[type=checkbox]:before{position:absolute;content:"";width:20px;height:20px;border-radius:50%;background:#e80a89;top:50%;left:50%;margin-top:-10px;margin-left:-10px;transform:translateX(-20px);transition:.7s}#bgColor[type=checkbox]:checked:before{position:absolute;content:"";width:20px;height:20px;border-radius:50%;background:#e80a89;top:50%;left:50%;margin-top:-10px;margin-left:-10px;transform:translateX(20px);transition:.7s}.t-bgColor-wrapper{position:absolute;top:0;right:0;color:#fff;padding:10px}.t-bgColor-light{margin-left:10px}.t-bgColor-dark{margin-right:10px}.t-input-container>label{font-size:14px;margin-bottom:12px;padding:7px;color:#fff}body.light .t-input-container>label{color:#222}.t-input-container label.t-error{background-position:left bottom;color:#fff}.t-purpose-desc{margin-bottom:12px;font-size:14px;color:#fff}body.light .t-purpose-desc{color:#222}.t-input-container textarea{width:400px;height:200px;resize:none;padding:10px;color:#fff;background:#222;border:1px solid #ccc;font-size:12px}body.light .t-input-container textarea{background:#fff;color:#222}.t-list-container{position:fixed;top:0;right:0;width:30%;height:100%;box-sizing:border-box;color:#fff;overflow-y:scroll}body.light .t-list-container{color:#222}.t-list-inst strong{font-size:32px}.t-list-inst{margin-top:0;margin-bottom:16px;font-size:14px}.t-list-inst span{display:block;line-height:1.7}.t-list-container .t-return{background:#e80a89;padding:0 4px}.t-list-inst span:hover{background-position:left bottom}.t-list{list-style-type:none;padding:0;margin:0}.t-list-item{display:flex;padding:4px 5px 4px 0;align-items:center;justify-content:flex-end}.t-list-item:hover,body.light .t-list-item:hover{background-position:left bottom}.t-list-item input[type=checkbox]{margin:0 3px}.t-list-item input[type=text]{width:90%}.t-tile-container{width:70%;box-sizing:border-box}.t-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-gap:0 10px;grid-auto-rows:10px}.t-grid img{width:250px}.t-tile{opacity:.5;transition:ease .3s}.t-tile.t-hide{opacity:0}.t-remove{display:none}.t-tile.t-hide:hover{opacity:0}.t-tile:hover{opacity:1;transform:scale(1.05)}body .t-modal-shade{display:none}body.modalOpen .t-modal-shade{display:block;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(34,34,34,.6);z-index:10}.t-modal-image{display:block;position:relative;top:50%;transform:translateY(-50%);margin:0 auto;max-width:98%;max-height:90%}@media screen and (max-width:1450px){.t-list-container{width:40%}.t-tile-container{width:60%}}', this.render() }, render: function () { r.tilerWindow.document.head.appendChild(this.mysheet), i.init() }, remove: function () { this.cssTarget = document.querySelector(".tilercss"), document.head.removeChild(this.cssTarget) } }; r.init() }();